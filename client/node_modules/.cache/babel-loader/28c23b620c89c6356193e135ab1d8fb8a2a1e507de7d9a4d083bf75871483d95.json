{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\demis\\\\Desktop\\\\gest8\\\\client\\\\src\\\\components\\\\ordini\\\\OrdiniModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Modal, Button, Form, Row, Col, ListGroup, Badge, Alert } from 'react-bootstrap';\nimport { FaPlus, FaTrash, FaTimes, FaSave } from 'react-icons/fa';\nimport { createOrdine, updateOrdine, getOrdine } from '../../services/ordiniService';\nimport { getClienti } from '../../services/clientiService';\nimport { getProdotti } from '../../services/menuService';\nimport ProductSelect from './ProductSelect';\nimport { Card } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OrdiniModal = ({\n  show,\n  mode,\n  ordine,\n  onClose,\n  onSave\n}) => {\n  _s();\n  const initialFormState = {\n    cliente: '',\n    nomeCliente: '',\n    telefono: '',\n    elementi: [],\n    tipo: 'asporto',\n    stato: 'nuovo',\n    indirizzoConsegna: {\n      via: '',\n      civico: '',\n      citta: '',\n      cap: '',\n      note: ''\n    },\n    numeroTavolo: '',\n    orarioRichiesto: '',\n    metodoPagamento: 'non specificato',\n    costoConsegna: 0,\n    sconto: 0,\n    note: '',\n    totale: 0\n  };\n  const [form, setForm] = useState(initialFormState);\n  const [clienti, setClienti] = useState([]);\n  const [prodotti, setProdotti] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [showProductSelect, setShowProductSelect] = useState(false);\n  const [clienteAnonimo, setClienteAnonimo] = useState(true);\n\n  // Carica l'ordine quando si modifica\n  useEffect(() => {\n    if (mode === 'edit' && ordine) {\n      // In modalità edit, carica i dettagli completi dell'ordine\n      const fetchOrdineCompleto = async () => {\n        setLoading(true);\n        try {\n          const result = await getOrdine(ordine._id);\n          const ordineData = result.data;\n\n          // Imposta i dati del form\n          setForm({\n            ...ordineData,\n            cliente: ordineData.cliente ? ordineData.cliente._id : '',\n            orarioRichiesto: ordineData.orarioRichiesto ? new Date(ordineData.orarioRichiesto) : ''\n          });\n\n          // Determina se è un cliente anonimo\n          setClienteAnonimo(!ordineData.cliente);\n        } catch (error) {\n          console.error('Errore nel caricamento dell\\'ordine:', error);\n          setError('Impossibile caricare i dettagli dell\\'ordine.');\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchOrdineCompleto();\n    } else {\n      // In modalità create, inizializza con valori predefiniti\n      setForm(initialFormState);\n      setClienteAnonimo(true);\n    }\n  }, [mode, ordine, show]);\n\n  // Carica i dati dei clienti e dei prodotti\n  useEffect(() => {\n    if (show) {\n      const fetchData = async () => {\n        setLoading(true);\n        try {\n          // Carica clienti\n          const clientiResult = await getClienti();\n          setClienti(clientiResult.data);\n\n          // Carica prodotti\n          const prodottiResult = await getProdotti({\n            attivo: true\n          });\n          setProdotti(prodottiResult.data);\n        } catch (error) {\n          console.error('Errore nel caricamento dei dati:', error);\n          setError('Impossibile caricare i dati necessari.');\n        } finally {\n          setLoading(false);\n        }\n      };\n      fetchData();\n    }\n  }, [show]);\n\n  // Calcola il totale dell'ordine\n  useEffect(() => {\n    if (form.elementi && form.elementi.length > 0) {\n      // Calcola il subtotale (somma dei prezzi degli elementi)\n      const subtotale = form.elementi.reduce((sum, elemento) => {\n        // Prezzo base del prodotto\n        let elementoTotale = elemento.prezzo * elemento.quantita;\n\n        // Aggiungi il prezzo delle modifiche se presenti\n        if (elemento.modifiche && elemento.modifiche.length > 0) {\n          const modificheTotale = elemento.modifiche.reduce((modSum, mod) => modSum + (mod.prezzo || 0), 0);\n          elementoTotale += modificheTotale * elemento.quantita;\n        }\n        return sum + elementoTotale;\n      }, 0);\n\n      // Aggiungi il costo di consegna\n      const costoConsegna = form.tipo === 'consegna' ? parseFloat(form.costoConsegna) || 0 : 0;\n\n      // Sottrai lo sconto\n      const sconto = parseFloat(form.sconto) || 0;\n\n      // Calcola il totale finale\n      const totale = Math.max(0, subtotale + costoConsegna - sconto);\n\n      // Aggiorna il form con il nuovo totale\n      setForm(prevForm => ({\n        ...prevForm,\n        totale: parseFloat(totale.toFixed(2))\n      }));\n    } else {\n      // Se non ci sono elementi, imposta il totale a 0\n      setForm(prevForm => ({\n        ...prevForm,\n        totale: 0\n      }));\n    }\n  }, [form.elementi, form.costoConsegna, form.sconto, form.tipo]);\n\n  // Gestisce il cambio nei campi del form\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Gestisci i campi nidificati (come indirizzoConsegna.via)\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setForm({\n        ...form,\n        [parent]: {\n          ...form[parent],\n          [child]: value\n        }\n      });\n    } else {\n      setForm({\n        ...form,\n        [name]: value\n      });\n    }\n  };\n\n  // Gestisce il cambio del cliente\n  const handleClienteChange = e => {\n    const clienteId = e.target.value;\n    if (clienteId) {\n      // Se è stato selezionato un cliente, trova i suoi dati\n      const clienteSelezionato = clienti.find(c => c._id === clienteId);\n      if (clienteSelezionato) {\n        setForm({\n          ...form,\n          cliente: clienteId,\n          nomeCliente: `${clienteSelezionato.nome} ${clienteSelezionato.cognome}`,\n          telefono: clienteSelezionato.telefono || ''\n        });\n      }\n    } else {\n      // Se è stato deselezionato un cliente\n      setForm({\n        ...form,\n        cliente: '',\n        nomeCliente: '',\n        telefono: ''\n      });\n    }\n  };\n\n  // Gestisce l'aggiunta di un prodotto all'ordine\n  const handleAddProdotto = prodottoSelezionato => {\n    if (!prodottoSelezionato) return;\n\n    // Crea un nuovo elemento per l'ordine\n    const nuovoElemento = {\n      prodotto: prodottoSelezionato._id,\n      nome: prodottoSelezionato.nome,\n      quantita: 1,\n      prezzo: prodottoSelezionato.inPromozione && prodottoSelezionato.prezzoPromozione ? prodottoSelezionato.prezzoPromozione : prodottoSelezionato.prezzo,\n      note: '',\n      modifiche: []\n    };\n\n    // Aggiungi il nuovo elemento alla lista\n    setForm({\n      ...form,\n      elementi: [...form.elementi, nuovoElemento]\n    });\n\n    // Chiudi il selettore di prodotti\n    setShowProductSelect(false);\n  };\n\n  // Gestisce la rimozione di un elemento dall'ordine\n  const handleRemoveElemento = index => {\n    const nuoviElementi = [...form.elementi];\n    nuoviElementi.splice(index, 1);\n    setForm({\n      ...form,\n      elementi: nuoviElementi\n    });\n  };\n\n  // Gestisce il cambio di quantità di un elemento\n  const handleQuantitaChange = (index, quantita) => {\n    const nuoviElementi = [...form.elementi];\n    nuoviElementi[index].quantita = parseInt(quantita) || 1;\n    setForm({\n      ...form,\n      elementi: nuoviElementi\n    });\n  };\n\n  // Gestisce il cambio delle note di un elemento\n  const handleNoteChange = (index, note) => {\n    const nuoviElementi = [...form.elementi];\n    nuoviElementi[index].note = note;\n    setForm({\n      ...form,\n      elementi: nuoviElementi\n    });\n  };\n\n  // Gestisce il salvataggio dell'ordine\n  const handleSave = async () => {\n    // Validazione base\n    if (form.elementi.length === 0) {\n      setError('Aggiungi almeno un prodotto all\\'ordine.');\n      return;\n    }\n    if (form.tipo === 'consegna' && (!form.indirizzoConsegna.via || !form.indirizzoConsegna.citta)) {\n      setError('Inserisci i dati dell\\'indirizzo di consegna.');\n      return;\n    }\n    if (form.tipo === 'tavolo' && !form.numeroTavolo) {\n      setError('Inserisci il numero del tavolo.');\n      return;\n    }\n    setSaving(true);\n    try {\n      if (mode === 'create') {\n        // Crea un nuovo ordine\n        await createOrdine(form);\n      } else {\n        // Aggiorna un ordine esistente\n        await updateOrdine(ordine._id, form);\n      }\n\n      // Chiudi il modal e notifica il salvataggio\n      onSave();\n    } catch (error) {\n      console.error('Errore nel salvataggio dell\\'ordine:', error);\n      setError('Impossibile salvare l\\'ordine. Verifica i dati e riprova.');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Formatta prezzo in EUR\n  const formatPrice = price => {\n    return new Intl.NumberFormat('it-IT', {\n      style: 'currency',\n      currency: 'EUR'\n    }).format(price);\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: onClose,\n    size: \"lg\",\n    backdrop: \"static\",\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: mode === 'create' ? 'Nuovo Ordine' : `Modifica Ordine: ${form.numeroOrdine}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        onClose: () => setError(null),\n        dismissible: true,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-3\",\n          children: \"Informazioni Cliente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Tipo Cliente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n                  inline: true,\n                  type: \"radio\",\n                  label: \"Cliente Registrato\",\n                  name: \"tipoCliente\",\n                  id: \"clienteRegistrato\",\n                  checked: !clienteAnonimo,\n                  onChange: () => setClienteAnonimo(false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n                  inline: true,\n                  type: \"radio\",\n                  label: \"Cliente Anonimo\",\n                  name: \"tipoCliente\",\n                  id: \"clienteAnonimo\",\n                  checked: clienteAnonimo,\n                  onChange: () => setClienteAnonimo(true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: !clienteAnonimo ? /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Cliente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                name: \"cliente\",\n                value: form.cliente,\n                onChange: handleClienteChange,\n                disabled: loading,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Seleziona cliente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 21\n                }, this), clienti.map(cliente => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: cliente._id,\n                  children: `${cliente.nome} ${cliente.cognome} - ${cliente.telefono || 'N/D'}`\n                }, cliente._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Nome Cliente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"nomeCliente\",\n                  value: form.nomeCliente,\n                  onChange: handleChange,\n                  placeholder: \"Nome del cliente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Telefono\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"telefono\",\n                  value: form.telefono,\n                  onChange: handleChange,\n                  placeholder: \"Numero di telefono\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-3 mt-4\",\n          children: \"Dettagli Ordine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Tipo Ordine\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                name: \"tipo\",\n                value: form.tipo,\n                onChange: handleChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"asporto\",\n                  children: \"Asporto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"consegna\",\n                  children: \"Consegna a Domicilio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"tavolo\",\n                  children: \"Tavolo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Stato\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                name: \"stato\",\n                value: form.stato,\n                onChange: handleChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"nuovo\",\n                  children: \"Nuovo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"in preparazione\",\n                  children: \"In Preparazione\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"pronto\",\n                  children: \"Pronto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"in consegna\",\n                  children: \"In Consegna\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"consegnato\",\n                  children: \"Consegnato\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"annullato\",\n                  children: \"Annullato\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Metodo Pagamento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                name: \"metodoPagamento\",\n                value: form.metodoPagamento,\n                onChange: handleChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"non specificato\",\n                  children: \"Non Specificato\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"contanti\",\n                  children: \"Contanti\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"carta\",\n                  children: \"Carta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"online\",\n                  children: \"Online\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), form.tipo === 'consegna' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3 p-3 border rounded bg-light\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Indirizzo di Consegna\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Via\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"indirizzoConsegna.via\",\n                  value: form.indirizzoConsegna.via,\n                  onChange: handleChange,\n                  placeholder: \"Via\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Civico\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"indirizzoConsegna.civico\",\n                  value: form.indirizzoConsegna.civico,\n                  onChange: handleChange,\n                  placeholder: \"Civico\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"CAP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"indirizzoConsegna.cap\",\n                  value: form.indirizzoConsegna.cap,\n                  onChange: handleChange,\n                  placeholder: \"CAP\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Citt\\xE0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"indirizzoConsegna.citta\",\n                  value: form.indirizzoConsegna.citta,\n                  onChange: handleChange,\n                  placeholder: \"Citt\\xE0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Note per la consegna\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"indirizzoConsegna.note\",\n                  value: form.indirizzoConsegna.note,\n                  onChange: handleChange,\n                  placeholder: \"Note per il rider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Costo Consegna (\\u20AC)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"number\",\n                  min: \"0\",\n                  step: \"0.50\",\n                  name: \"costoConsegna\",\n                  value: form.costoConsegna,\n                  onChange: handleChange,\n                  placeholder: \"Costo di consegna\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Rider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  name: \"rider\",\n                  value: form.rider || '',\n                  onChange: handleChange,\n                  placeholder: \"Nome del rider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this), form.tipo === 'tavolo' && /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Numero Tavolo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                min: \"1\",\n                name: \"numeroTavolo\",\n                value: form.numeroTavolo,\n                onChange: handleChange,\n                placeholder: \"Numero del tavolo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-3 mt-4\",\n          children: \"Prodotti\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-primary\",\n            onClick: () => setShowProductSelect(true),\n            disabled: loading,\n            children: [/*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 15\n            }, this), \" Aggiungi Prodotto\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n          className: \"mb-4\",\n          children: form.elementi.length === 0 ? /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            className: \"text-center py-4 text-muted\",\n            children: \"Nessun prodotto aggiunto all'ordine\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 15\n          }, this) : form.elementi.map((elemento, index) => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            className: \"py-3\",\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold\",\n                    children: elemento.nome\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 582,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"light\",\n                    text: \"dark\",\n                    className: \"ms-2\",\n                    children: formatPrice(elemento.prezzo)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 583,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 581,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"number\",\n                  min: \"1\",\n                  value: elemento.quantita,\n                  onChange: e => handleQuantitaChange(index, e.target.value),\n                  size: \"sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                className: \"d-flex align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"fw-bold\",\n                  children: formatPrice(elemento.prezzo * elemento.quantita)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 1,\n                className: \"d-flex align-items-center justify-content-end\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"link\",\n                  className: \"text-danger p-0\",\n                  onClick: () => handleRemoveElemento(index),\n                  children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 608,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"mt-2\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"textarea\",\n                  rows: 1,\n                  placeholder: \"Note per questo prodotto\",\n                  value: elemento.note || '',\n                  onChange: e => handleNoteChange(index, e.target.value),\n                  size: \"sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Note Ordine\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                rows: 3,\n                name: \"note\",\n                value: form.note,\n                onChange: handleChange,\n                placeholder: \"Note aggiuntive per l'ordine\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-3\",\n                  children: \"Riepilogo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Subtotale:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 649,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: formatPrice(form.elementi.reduce((sum, el) => sum + el.prezzo * el.quantita, 0))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 648,\n                  columnNumber: 19\n                }, this), form.tipo === 'consegna' && form.costoConsegna > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Costo Consegna:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: formatPrice(parseFloat(form.costoConsegna) || 0)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 658,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Sconto:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 663,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"number\",\n                      min: \"0\",\n                      step: \"1\",\n                      name: \"sconto\",\n                      value: form.sconto,\n                      onChange: handleChange,\n                      size: \"sm\",\n                      style: {\n                        width: '80px',\n                        textAlign: 'right'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 664,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 662,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: \"Totale:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 679,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"text-primary\",\n                    children: formatPrice(form.totale)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 680,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductSelect, {\n        show: showProductSelect,\n        prodotti: prodotti,\n        onClose: () => setShowProductSelect(false),\n        onSelectProdotto: handleAddProdotto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-secondary\",\n        onClick: onClose,\n        disabled: saving,\n        children: \"Annulla\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: handleSave,\n        disabled: saving,\n        children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"spinner-border spinner-border-sm me-2\",\n            role: \"status\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 15\n          }, this), \"Salvataggio...\"]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(FaSave, {\n            className: \"me-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 15\n          }, this), \" Salva\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 2\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n};\n_s(OrdiniModal, \"mbUL69Eqlbf+o4/F9wU3j37IC5k=\");\n_c = OrdiniModal;\nexport default OrdiniModal;\nvar _c;\n$RefreshReg$(_c, \"OrdiniModal\");","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","Form","Row","Col","ListGroup","Badge","Alert","FaPlus","FaTrash","FaTimes","FaSave","createOrdine","updateOrdine","getOrdine","getClienti","getProdotti","ProductSelect","Card","jsxDEV","_jsxDEV","Fragment","_Fragment","OrdiniModal","show","mode","ordine","onClose","onSave","_s","initialFormState","cliente","nomeCliente","telefono","elementi","tipo","stato","indirizzoConsegna","via","civico","citta","cap","note","numeroTavolo","orarioRichiesto","metodoPagamento","costoConsegna","sconto","totale","form","setForm","clienti","setClienti","prodotti","setProdotti","loading","setLoading","saving","setSaving","error","setError","showProductSelect","setShowProductSelect","clienteAnonimo","setClienteAnonimo","fetchOrdineCompleto","result","_id","ordineData","data","Date","console","fetchData","clientiResult","prodottiResult","attivo","length","subtotale","reduce","sum","elemento","elementoTotale","prezzo","quantita","modifiche","modificheTotale","modSum","mod","parseFloat","Math","max","prevForm","toFixed","handleChange","e","name","value","target","includes","parent","child","split","handleClienteChange","clienteId","clienteSelezionato","find","c","nome","cognome","handleAddProdotto","prodottoSelezionato","nuovoElemento","prodotto","inPromozione","prezzoPromozione","handleRemoveElemento","index","nuoviElementi","splice","handleQuantitaChange","parseInt","handleNoteChange","handleSave","formatPrice","price","Intl","NumberFormat","style","currency","format","onHide","size","backdrop","children","Header","closeButton","Title","numeroOrdine","fileName","_jsxFileName","lineNumber","columnNumber","Body","variant","dismissible","className","md","Group","Label","Check","inline","type","label","id","checked","onChange","Select","disabled","map","Control","placeholder","min","step","rider","onClick","Item","bg","text","as","rows","el","width","textAlign","onSelectProdotto","Footer","role","_c","$RefreshReg$"],"sources":["C:/Users/demis/Desktop/gest8/client/src/components/ordini/OrdiniModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Modal, Button, Form, Row, Col, ListGroup, Badge, Alert } from 'react-bootstrap';\r\nimport { FaPlus, FaTrash, FaTimes, FaSave } from 'react-icons/fa';\r\nimport { createOrdine, updateOrdine, getOrdine } from '../../services/ordiniService';\r\nimport { getClienti } from '../../services/clientiService';\r\nimport { getProdotti } from '../../services/menuService';\r\nimport ProductSelect from './ProductSelect';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nconst OrdiniModal = ({ show, mode, ordine, onClose, onSave }) => {\r\n  const initialFormState = {\r\n    cliente: '',\r\n    nomeCliente: '',\r\n    telefono: '',\r\n    elementi: [],\r\n    tipo: 'asporto',\r\n    stato: 'nuovo',\r\n    indirizzoConsegna: {\r\n      via: '',\r\n      civico: '',\r\n      citta: '',\r\n      cap: '',\r\n      note: ''\r\n    },\r\n    numeroTavolo: '',\r\n    orarioRichiesto: '',\r\n    metodoPagamento: 'non specificato',\r\n    costoConsegna: 0,\r\n    sconto: 0,\r\n    note: '',\r\n    totale: 0\r\n  };\r\n\r\n  const [form, setForm] = useState(initialFormState);\r\n  const [clienti, setClienti] = useState([]);\r\n  const [prodotti, setProdotti] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showProductSelect, setShowProductSelect] = useState(false);\r\n  const [clienteAnonimo, setClienteAnonimo] = useState(true);\r\n\r\n  // Carica l'ordine quando si modifica\r\n  useEffect(() => {\r\n    if (mode === 'edit' && ordine) {\r\n      // In modalità edit, carica i dettagli completi dell'ordine\r\n      const fetchOrdineCompleto = async () => {\r\n        setLoading(true);\r\n        try {\r\n          const result = await getOrdine(ordine._id);\r\n          const ordineData = result.data;\r\n          \r\n          // Imposta i dati del form\r\n          setForm({\r\n            ...ordineData,\r\n            cliente: ordineData.cliente ? ordineData.cliente._id : '',\r\n            orarioRichiesto: ordineData.orarioRichiesto ? new Date(ordineData.orarioRichiesto) : '',\r\n          });\r\n          \r\n          // Determina se è un cliente anonimo\r\n          setClienteAnonimo(!ordineData.cliente);\r\n          \r\n        } catch (error) {\r\n          console.error('Errore nel caricamento dell\\'ordine:', error);\r\n          setError('Impossibile caricare i dettagli dell\\'ordine.');\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      \r\n      fetchOrdineCompleto();\r\n    } else {\r\n      // In modalità create, inizializza con valori predefiniti\r\n      setForm(initialFormState);\r\n      setClienteAnonimo(true);\r\n    }\r\n  }, [mode, ordine, show]);\r\n\r\n  // Carica i dati dei clienti e dei prodotti\r\n  useEffect(() => {\r\n    if (show) {\r\n      const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n          // Carica clienti\r\n          const clientiResult = await getClienti();\r\n          setClienti(clientiResult.data);\r\n          \r\n          // Carica prodotti\r\n          const prodottiResult = await getProdotti({ attivo: true });\r\n          setProdotti(prodottiResult.data);\r\n          \r\n        } catch (error) {\r\n          console.error('Errore nel caricamento dei dati:', error);\r\n          setError('Impossibile caricare i dati necessari.');\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      };\r\n      \r\n      fetchData();\r\n    }\r\n  }, [show]);\r\n\r\n  // Calcola il totale dell'ordine\r\n  useEffect(() => {\r\n    if (form.elementi && form.elementi.length > 0) {\r\n      // Calcola il subtotale (somma dei prezzi degli elementi)\r\n      const subtotale = form.elementi.reduce((sum, elemento) => {\r\n        // Prezzo base del prodotto\r\n        let elementoTotale = elemento.prezzo * elemento.quantita;\r\n        \r\n        // Aggiungi il prezzo delle modifiche se presenti\r\n        if (elemento.modifiche && elemento.modifiche.length > 0) {\r\n          const modificheTotale = elemento.modifiche.reduce((modSum, mod) => modSum + (mod.prezzo || 0), 0);\r\n          elementoTotale += modificheTotale * elemento.quantita;\r\n        }\r\n        \r\n        return sum + elementoTotale;\r\n      }, 0);\r\n      \r\n      // Aggiungi il costo di consegna\r\n      const costoConsegna = form.tipo === 'consegna' ? (parseFloat(form.costoConsegna) || 0) : 0;\r\n      \r\n      // Sottrai lo sconto\r\n      const sconto = parseFloat(form.sconto) || 0;\r\n      \r\n      // Calcola il totale finale\r\n      const totale = Math.max(0, subtotale + costoConsegna - sconto);\r\n      \r\n      // Aggiorna il form con il nuovo totale\r\n      setForm(prevForm => ({\r\n        ...prevForm,\r\n        totale: parseFloat(totale.toFixed(2))\r\n      }));\r\n    } else {\r\n      // Se non ci sono elementi, imposta il totale a 0\r\n      setForm(prevForm => ({\r\n        ...prevForm,\r\n        totale: 0\r\n      }));\r\n    }\r\n  }, [form.elementi, form.costoConsegna, form.sconto, form.tipo]);\r\n\r\n  // Gestisce il cambio nei campi del form\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Gestisci i campi nidificati (come indirizzoConsegna.via)\r\n    if (name.includes('.')) {\r\n      const [parent, child] = name.split('.');\r\n      setForm({\r\n        ...form,\r\n        [parent]: {\r\n          ...form[parent],\r\n          [child]: value\r\n        }\r\n      });\r\n    } else {\r\n      setForm({\r\n        ...form,\r\n        [name]: value\r\n      });\r\n    }\r\n  };\r\n\r\n  // Gestisce il cambio del cliente\r\n  const handleClienteChange = (e) => {\r\n    const clienteId = e.target.value;\r\n    \r\n    if (clienteId) {\r\n      // Se è stato selezionato un cliente, trova i suoi dati\r\n      const clienteSelezionato = clienti.find(c => c._id === clienteId);\r\n      if (clienteSelezionato) {\r\n        setForm({\r\n          ...form,\r\n          cliente: clienteId,\r\n          nomeCliente: `${clienteSelezionato.nome} ${clienteSelezionato.cognome}`,\r\n          telefono: clienteSelezionato.telefono || ''\r\n        });\r\n      }\r\n    } else {\r\n      // Se è stato deselezionato un cliente\r\n      setForm({\r\n        ...form,\r\n        cliente: '',\r\n        nomeCliente: '',\r\n        telefono: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  // Gestisce l'aggiunta di un prodotto all'ordine\r\n  const handleAddProdotto = (prodottoSelezionato) => {\r\n    if (!prodottoSelezionato) return;\r\n    \r\n    // Crea un nuovo elemento per l'ordine\r\n    const nuovoElemento = {\r\n      prodotto: prodottoSelezionato._id,\r\n      nome: prodottoSelezionato.nome,\r\n      quantita: 1,\r\n      prezzo: prodottoSelezionato.inPromozione && prodottoSelezionato.prezzoPromozione\r\n        ? prodottoSelezionato.prezzoPromozione\r\n        : prodottoSelezionato.prezzo,\r\n      note: '',\r\n      modifiche: []\r\n    };\r\n    \r\n    // Aggiungi il nuovo elemento alla lista\r\n    setForm({\r\n      ...form,\r\n      elementi: [...form.elementi, nuovoElemento]\r\n    });\r\n    \r\n    // Chiudi il selettore di prodotti\r\n    setShowProductSelect(false);\r\n  };\r\n\r\n  // Gestisce la rimozione di un elemento dall'ordine\r\n  const handleRemoveElemento = (index) => {\r\n    const nuoviElementi = [...form.elementi];\r\n    nuoviElementi.splice(index, 1);\r\n    \r\n    setForm({\r\n      ...form,\r\n      elementi: nuoviElementi\r\n    });\r\n  };\r\n\r\n  // Gestisce il cambio di quantità di un elemento\r\n  const handleQuantitaChange = (index, quantita) => {\r\n    const nuoviElementi = [...form.elementi];\r\n    nuoviElementi[index].quantita = parseInt(quantita) || 1;\r\n    \r\n    setForm({\r\n      ...form,\r\n      elementi: nuoviElementi\r\n    });\r\n  };\r\n\r\n  // Gestisce il cambio delle note di un elemento\r\n  const handleNoteChange = (index, note) => {\r\n    const nuoviElementi = [...form.elementi];\r\n    nuoviElementi[index].note = note;\r\n    \r\n    setForm({\r\n      ...form,\r\n      elementi: nuoviElementi\r\n    });\r\n  };\r\n\r\n  // Gestisce il salvataggio dell'ordine\r\n  const handleSave = async () => {\r\n    // Validazione base\r\n    if (form.elementi.length === 0) {\r\n      setError('Aggiungi almeno un prodotto all\\'ordine.');\r\n      return;\r\n    }\r\n    \r\n    if (form.tipo === 'consegna' && (!form.indirizzoConsegna.via || !form.indirizzoConsegna.citta)) {\r\n      setError('Inserisci i dati dell\\'indirizzo di consegna.');\r\n      return;\r\n    }\r\n    \r\n    if (form.tipo === 'tavolo' && !form.numeroTavolo) {\r\n      setError('Inserisci il numero del tavolo.');\r\n      return;\r\n    }\r\n    \r\n    setSaving(true);\r\n    \r\n    try {\r\n      if (mode === 'create') {\r\n        // Crea un nuovo ordine\r\n        await createOrdine(form);\r\n      } else {\r\n        // Aggiorna un ordine esistente\r\n        await updateOrdine(ordine._id, form);\r\n      }\r\n      \r\n      // Chiudi il modal e notifica il salvataggio\r\n      onSave();\r\n    } catch (error) {\r\n      console.error('Errore nel salvataggio dell\\'ordine:', error);\r\n      setError('Impossibile salvare l\\'ordine. Verifica i dati e riprova.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // Formatta prezzo in EUR\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat('it-IT', { style: 'currency', currency: 'EUR' }).format(price);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={onClose} size=\"lg\" backdrop=\"static\">\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>\r\n          {mode === 'create' ? 'Nuovo Ordine' : `Modifica Ordine: ${form.numeroOrdine}`}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {error && (\r\n          <Alert variant=\"danger\" onClose={() => setError(null)} dismissible>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <Form>\r\n          {/* Sezione Cliente */}\r\n          <h5 className=\"mb-3\">Informazioni Cliente</h5>\r\n          <Row className=\"mb-3\">\r\n            <Col md={6}>\r\n              <Form.Group>\r\n                <Form.Label>Tipo Cliente</Form.Label>\r\n                <div>\r\n                  <Form.Check\r\n                    inline\r\n                    type=\"radio\"\r\n                    label=\"Cliente Registrato\"\r\n                    name=\"tipoCliente\"\r\n                    id=\"clienteRegistrato\"\r\n                    checked={!clienteAnonimo}\r\n                    onChange={() => setClienteAnonimo(false)}\r\n                  />\r\n                  <Form.Check\r\n                    inline\r\n                    type=\"radio\"\r\n                    label=\"Cliente Anonimo\"\r\n                    name=\"tipoCliente\"\r\n                    id=\"clienteAnonimo\"\r\n                    checked={clienteAnonimo}\r\n                    onChange={() => setClienteAnonimo(true)}\r\n                  />\r\n                </div>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          \r\n          <Row>\r\n            {!clienteAnonimo ? (\r\n              <Col md={6}>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Cliente</Form.Label>\r\n                  <Form.Select\r\n                    name=\"cliente\"\r\n                    value={form.cliente}\r\n                    onChange={handleClienteChange}\r\n                    disabled={loading}\r\n                  >\r\n                    <option value=\"\">Seleziona cliente</option>\r\n                    {clienti.map((cliente) => (\r\n                      <option key={cliente._id} value={cliente._id}>\r\n                        {`${cliente.nome} ${cliente.cognome} - ${cliente.telefono || 'N/D'}`}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Form.Group>\r\n              </Col>\r\n            ) : (\r\n              <>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Nome Cliente</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"nomeCliente\"\r\n                      value={form.nomeCliente}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Nome del cliente\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Telefono</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"telefono\"\r\n                      value={form.telefono}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Numero di telefono\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </>\r\n            )}\r\n          </Row>\r\n\r\n          {/* Sezione Dettagli Ordine */}\r\n          <h5 className=\"mb-3 mt-4\">Dettagli Ordine</h5>\r\n          <Row>\r\n            <Col md={4}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Tipo Ordine</Form.Label>\r\n                <Form.Select\r\n                  name=\"tipo\"\r\n                  value={form.tipo}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option value=\"asporto\">Asporto</option>\r\n                  <option value=\"consegna\">Consegna a Domicilio</option>\r\n                  <option value=\"tavolo\">Tavolo</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Stato</Form.Label>\r\n                <Form.Select\r\n                  name=\"stato\"\r\n                  value={form.stato}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option value=\"nuovo\">Nuovo</option>\r\n                  <option value=\"in preparazione\">In Preparazione</option>\r\n                  <option value=\"pronto\">Pronto</option>\r\n                  <option value=\"in consegna\">In Consegna</option>\r\n                  <option value=\"consegnato\">Consegnato</option>\r\n                  <option value=\"annullato\">Annullato</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={4}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Metodo Pagamento</Form.Label>\r\n                <Form.Select\r\n                  name=\"metodoPagamento\"\r\n                  value={form.metodoPagamento}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option value=\"non specificato\">Non Specificato</option>\r\n                  <option value=\"contanti\">Contanti</option>\r\n                  <option value=\"carta\">Carta</option>\r\n                  <option value=\"online\">Online</option>\r\n                </Form.Select>\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* Campi specifici per tipo di ordine */}\r\n          {form.tipo === 'consegna' && (\r\n            <div className=\"mb-3 p-3 border rounded bg-light\">\r\n              <h6>Indirizzo di Consegna</h6>\r\n              <Row>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Via</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"indirizzoConsegna.via\"\r\n                      value={form.indirizzoConsegna.via}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Via\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Civico</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"indirizzoConsegna.civico\"\r\n                      value={form.indirizzoConsegna.civico}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Civico\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>CAP</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"indirizzoConsegna.cap\"\r\n                      value={form.indirizzoConsegna.cap}\r\n                      onChange={handleChange}\r\n                      placeholder=\"CAP\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Città</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"indirizzoConsegna.citta\"\r\n                      value={form.indirizzoConsegna.citta}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Città\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Note per la consegna</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"indirizzoConsegna.note\"\r\n                      value={form.indirizzoConsegna.note}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Note per il rider\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Costo Consegna (€)</Form.Label>\r\n                    <Form.Control\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      step=\"0.50\"\r\n                      name=\"costoConsegna\"\r\n                      value={form.costoConsegna}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Costo di consegna\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Rider</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      name=\"rider\"\r\n                      value={form.rider || ''}\r\n                      onChange={handleChange}\r\n                      placeholder=\"Nome del rider\"\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          )}\r\n\r\n          {form.tipo === 'tavolo' && (\r\n            <Row className=\"mb-3\">\r\n              <Col md={4}>\r\n                <Form.Group>\r\n                  <Form.Label>Numero Tavolo</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    name=\"numeroTavolo\"\r\n                    value={form.numeroTavolo}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Numero del tavolo\"\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n          )}\r\n\r\n          {/* Sezione Prodotti */}\r\n          <h5 className=\"mb-3 mt-4\">Prodotti</h5>\r\n          <div className=\"mb-3\">\r\n            <Button\r\n              variant=\"outline-primary\"\r\n              onClick={() => setShowProductSelect(true)}\r\n              disabled={loading}\r\n            >\r\n              <FaPlus /> Aggiungi Prodotto\r\n            </Button>\r\n          </div>\r\n\r\n          <ListGroup className=\"mb-4\">\r\n            {form.elementi.length === 0 ? (\r\n              <ListGroup.Item className=\"text-center py-4 text-muted\">\r\n                Nessun prodotto aggiunto all'ordine\r\n              </ListGroup.Item>\r\n            ) : (\r\n              form.elementi.map((elemento, index) => (\r\n                <ListGroup.Item key={index} className=\"py-3\">\r\n                  <Row>\r\n                    <Col md={6}>\r\n                      <div className=\"d-flex align-items-center\">\r\n                        <div className=\"fw-bold\">{elemento.nome}</div>\r\n                        <Badge bg=\"light\" text=\"dark\" className=\"ms-2\">\r\n                          {formatPrice(elemento.prezzo)}\r\n                        </Badge>\r\n                      </div>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                      <Form.Control\r\n                        type=\"number\"\r\n                        min=\"1\"\r\n                        value={elemento.quantita}\r\n                        onChange={(e) => handleQuantitaChange(index, e.target.value)}\r\n                        size=\"sm\"\r\n                      />\r\n                    </Col>\r\n                    <Col md={3} className=\"d-flex align-items-center\">\r\n                      <div className=\"fw-bold\">\r\n                        {formatPrice(elemento.prezzo * elemento.quantita)}\r\n                      </div>\r\n                    </Col>\r\n                    <Col md={1} className=\"d-flex align-items-center justify-content-end\">\r\n                      <Button\r\n                        variant=\"link\"\r\n                        className=\"text-danger p-0\"\r\n                        onClick={() => handleRemoveElemento(index)}\r\n                      >\r\n                        <FaTimes />\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row className=\"mt-2\">\r\n                    <Col>\r\n                      <Form.Control\r\n                        as=\"textarea\"\r\n                        rows={1}\r\n                        placeholder=\"Note per questo prodotto\"\r\n                        value={elemento.note || ''}\r\n                        onChange={(e) => handleNoteChange(index, e.target.value)}\r\n                        size=\"sm\"\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              ))\r\n            )}\r\n          </ListGroup>\r\n\r\n          {/* Sezione Totale e Note */}\r\n          <Row>\r\n            <Col md={6}>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Note Ordine</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows={3}\r\n                  name=\"note\"\r\n                  value={form.note}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Note aggiuntive per l'ordine\"\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col md={6}>\r\n              <Card className=\"mb-3\">\r\n                <Card.Body>\r\n                  <h5 className=\"mb-3\">Riepilogo</h5>\r\n                  <div className=\"d-flex justify-content-between mb-2\">\r\n                    <span>Subtotale:</span>\r\n                    <span>\r\n                      {formatPrice(form.elementi.reduce((sum, el) => sum + (el.prezzo * el.quantita), 0))}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  {form.tipo === 'consegna' && form.costoConsegna > 0 && (\r\n                    <div className=\"d-flex justify-content-between mb-2\">\r\n                      <span>Costo Consegna:</span>\r\n                      <span>{formatPrice(parseFloat(form.costoConsegna) || 0)}</span>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div className=\"d-flex justify-content-between mb-2\">\r\n                    <Form.Label>Sconto:</Form.Label>\r\n                    <div>\r\n                      <Form.Control\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        step=\"1\"\r\n                        name=\"sconto\"\r\n                        value={form.sconto}\r\n                        onChange={handleChange}\r\n                        size=\"sm\"\r\n                        style={{ width: '80px', textAlign: 'right' }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"d-flex justify-content-between mt-3\">\r\n                    <h5>Totale:</h5>\r\n                    <h5 className=\"text-primary\">{formatPrice(form.totale)}</h5>\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n\r\n        <ProductSelect\r\n          show={showProductSelect}\r\n          prodotti={prodotti}\r\n          onClose={() => setShowProductSelect(false)}\r\n          onSelectProdotto={handleAddProdotto}\r\n        />\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"outline-secondary\" onClick={onClose} disabled={saving}>\r\n          Annulla\r\n        </Button>\r\n <Button variant=\"primary\" onClick={handleSave} disabled={saving}>\r\n          {saving ? (\r\n            <>\r\n              <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n              Salvataggio...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <FaSave className=\"me-1\" /> Salva\r\n            </>\r\n          )}\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default OrdiniModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}