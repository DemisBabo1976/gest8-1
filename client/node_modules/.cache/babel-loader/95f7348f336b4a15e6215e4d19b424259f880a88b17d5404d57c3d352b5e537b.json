{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\demis\\\\Desktop\\\\gest8-1\\\\client\\\\src\\\\components\\\\ordini\\\\ConfigurazioneOrari.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { X, Clock, Plus, Trash2, Copy, Info, AlertCircle, Save } from 'lucide-react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ConfigurazioneOrari = ({\n  onClose\n}) => {\n  _s();\n  // Stato per memorizzare le configurazioni per ogni giorno\n  const [configurazioni, setConfigurazioni] = useState([]);\n\n  // Stato per il giorno selezionato\n  const [giornoSelezionato, setGiornoSelezionato] = useState(0); // 0 = Lunedì\n\n  // Stato per la configurazione corrente\n  const [configurazione, setConfigurazione] = useState({\n    aperto: true,\n    intervalloSlot: 10,\n    capacitaSlot: 5,\n    turni: []\n  });\n\n  // Stato per il caricamento e gli errori\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  // Effetto per caricare le configurazioni all'avvio\n  useEffect(() => {\n    fetchConfigurazioni();\n  }, []);\n\n  // Effetto per aggiornare la configurazione corrente quando cambia il giorno selezionato\n  useEffect(() => {\n    if (configurazioni && configurazioni.length > 0) {\n      const configGiorno = configurazioni.find(c => c.giorno === giornoSelezionato);\n      if (configGiorno) {\n        setConfigurazione({\n          aperto: configGiorno.aperto,\n          intervalloSlot: configGiorno.intervalloSlot || 10,\n          capacitaSlot: configGiorno.capacitaSlot || 5,\n          turni: configGiorno.turni || []\n        });\n      } else {\n        // Se non esiste una configurazione per questo giorno, imposta valori predefiniti\n        setConfigurazione({\n          aperto: true,\n          intervalloSlot: 10,\n          capacitaSlot: 5,\n          turni: []\n        });\n      }\n    }\n  }, [giornoSelezionato, configurazioni]);\n  const fetchConfigurazioni = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      // Prova a ottenere i dati dall'API\n      const response = await axios.get('/api/ordini/configurazione', {\n        timeout: 5000,\n        validateStatus: function (status) {\n          return status < 500;\n        }\n      });\n      if (response.data && response.data.data) {\n        setConfigurazioni(response.data.data);\n        // Salva anche in localStorage per il futuro\n        localStorage.setItem('configurazioni-orari', JSON.stringify(response.data.data));\n      } else {\n        throw new Error('Dati non validi dalla risposta API');\n      }\n    } catch (err) {\n      console.error('Errore nel caricamento delle configurazioni:', err);\n\n      // Prova a caricare dal localStorage\n      const localData = localStorage.getItem('configurazioni-orari');\n      if (localData) {\n        try {\n          const parsedData = JSON.parse(localData);\n          setConfigurazioni(parsedData);\n          setError('Caricati dati locali (server non disponibile)');\n        } catch (parseError) {\n          console.error('Errore nel parsing dei dati locali:', parseError);\n          createDefaultConfigurations();\n        }\n      } else {\n        createDefaultConfigurations();\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Funzione helper per creare configurazioni predefinite\n  const createDefaultConfigurations = () => {\n    const configurazioniPredefinite = Array(7).fill(0).map((_, index) => ({\n      id: index,\n      giorno: index,\n      nomeGiorno: giorniSettimana[index],\n      aperto: index === 1,\n      // Solo Martedì aperto per default (come nell'immagine)\n      intervalloSlot: 10,\n      capacitaSlot: 5,\n      turni: index === 1 ? [{\n        apertura: '12:00',\n        chiusura: '14:30'\n      }, {\n        apertura: '18:00',\n        chiusura: '23:00'\n      }] : []\n    }));\n    setConfigurazioni(configurazioniPredefinite);\n    setError('Utilizzati dati predefiniti.');\n\n    // Salva anche in localStorage per il futuro\n    localStorage.setItem('configurazioni-orari', JSON.stringify(configurazioniPredefinite));\n  };\n  const salvaConfigurazione = async () => {\n    setIsLoading(true);\n    setError(null);\n    setSuccessMessage(null);\n    try {\n      // Tenta di chiamare l'API\n      try {\n        await axios.put(`/api/ordini/configurazione/${giornoSelezionato}`, configurazione);\n      } catch (apiError) {\n        console.warn(\"Errore nell'API, utilizzo localStorage come fallback\", apiError);\n      }\n\n      // Aggiorna sempre il localStorage indipendentemente dal risultato dell'API\n      const configurazioneSalvate = JSON.parse(localStorage.getItem('configurazioni-orari') || '[]');\n\n      // Trova l'indice della configurazione per questo giorno\n      const index = configurazioneSalvate.findIndex(c => c.giorno === giornoSelezionato);\n      if (index >= 0) {\n        // Aggiorna la configurazione esistente\n        configurazioneSalvate[index] = {\n          ...configurazioneSalvate[index],\n          ...configurazione,\n          giorno: giornoSelezionato,\n          nomeGiorno: giorniSettimana[giornoSelezionato]\n        };\n      } else {\n        // Aggiungi una nuova configurazione\n        configurazioneSalvate.push({\n          ...configurazione,\n          giorno: giornoSelezionato,\n          nomeGiorno: giorniSettimana[giornoSelezionato]\n        });\n      }\n\n      // Salva nel localStorage\n      localStorage.setItem('configurazioni-orari', JSON.stringify(configurazioneSalvate));\n\n      // Aggiorna l'interfaccia\n      const nuoveConfigurazioni = [...configurazioneSalvate];\n      setConfigurazioni(nuoveConfigurazioni);\n      setSuccessMessage('Configurazione salvata con successo');\n\n      // Nascondi il messaggio dopo 3 secondi\n      setTimeout(() => {\n        setSuccessMessage(null);\n      }, 3000);\n    } catch (err) {\n      console.error('Errore nel salvataggio della configurazione:', err);\n      setError('Errore nel salvataggio. Riprova più tardi.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Funzione per aggiungere un nuovo turno\n  const aggiungiTurno = () => {\n    const nuoviTurni = [...configurazione.turni];\n\n    // Aggiungi un nuovo turno con orari predefiniti\n    nuoviTurni.push({\n      apertura: '18:00',\n      chiusura: '23:00'\n    });\n    setConfigurazione({\n      ...configurazione,\n      turni: nuoviTurni\n    });\n  };\n\n  // Funzione per rimuovere un turno\n  const rimuoviTurno = index => {\n    const nuoviTurni = [...configurazione.turni];\n    nuoviTurni.splice(index, 1);\n    setConfigurazione({\n      ...configurazione,\n      turni: nuoviTurni\n    });\n  };\n\n  // Funzione per aggiornare un turno\n  const aggiornaTurno = (index, campo, valore) => {\n    const nuoviTurni = [...configurazione.turni];\n    nuoviTurni[index] = {\n      ...nuoviTurni[index],\n      [campo]: valore\n    };\n    setConfigurazione({\n      ...configurazione,\n      turni: nuoviTurni\n    });\n  };\n\n  // Funzione per copiare la configurazione a tutti i giorni\n  const copiaConfigurazioneATutti = async () => {\n    if (!window.confirm('Sei sicuro di voler copiare questa configurazione a tutti i giorni della settimana?')) {\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    setSuccessMessage(null);\n    try {\n      // In una implementazione reale:\n      // await axios.post(`/api/ordini/configurazione/${giornoSelezionato}/copia-a-tutti`);\n\n      // Simulazione di risposta di successo\n      setTimeout(() => {\n        // Implementa la copia localmente\n        const configAttuale = configurazione;\n        const nuoveConfigurazioni = [...configurazioni];\n        for (let i = 0; i < 7; i++) {\n          if (i !== giornoSelezionato) {\n            const index = nuoveConfigurazioni.findIndex(c => c.giorno === i);\n            if (index !== -1) {\n              nuoveConfigurazioni[index] = {\n                ...nuoveConfigurazioni[index],\n                aperto: configAttuale.aperto,\n                intervalloSlot: configAttuale.intervalloSlot,\n                capacitaSlot: configAttuale.capacitaSlot,\n                turni: JSON.parse(JSON.stringify(configAttuale.turni)) // Deep clone\n              };\n            } else {\n              nuoveConfigurazioni.push({\n                id: nuoveConfigurazioni.length,\n                giorno: i,\n                nomeGiorno: giorniSettimana[i],\n                aperto: configAttuale.aperto,\n                intervalloSlot: configAttuale.intervalloSlot,\n                capacitaSlot: configAttuale.capacitaSlot,\n                turni: JSON.parse(JSON.stringify(configAttuale.turni)) // Deep clone\n              });\n            }\n          }\n        }\n        setConfigurazioni(nuoveConfigurazioni);\n        setSuccessMessage('Configurazione copiata a tutti i giorni con successo');\n\n        // Nascondi il messaggio dopo 3 secondi\n        setTimeout(() => {\n          setSuccessMessage(null);\n        }, 3000);\n        setIsLoading(false);\n      }, 500);\n    } catch (err) {\n      console.error('Errore nella copia della configurazione:', err);\n      setError('Errore nella copia. Riprova più tardi.');\n      setIsLoading(false);\n    }\n  };\n\n  // Array dei giorni della settimana\n  const giorniSettimana = ['Lunedì', 'Martedì', 'Mercoledì', 'Giovedì', 'Venerdì', 'Sabato', 'Domenica'];\n\n  // Array degli intervalli di slot disponibili\n  const intervalliSlotDisponibili = [{\n    value: 5,\n    label: '5 minuti'\n  }, {\n    value: 10,\n    label: '10 minuti'\n  }, {\n    value: 15,\n    label: '15 minuti'\n  }, {\n    value: 20,\n    label: '20 minuti'\n  }, {\n    value: 30,\n    label: '30 minuti'\n  }, {\n    value: 60,\n    label: '1 ora'\n  }];\n\n  // Funzione di riprova\n  const handleRetry = () => {\n    fetchConfigurazioni();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-4 border-b\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mr-3 p-2 rounded-lg hover:bg-gray-100 transition-colors\",\n            onClick: onClose,\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 20,\n              className: \"text-gray-700\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold\",\n            children: \"Impostazioni Orari e Turni\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center h-20\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"m-4 p-3 bg-red-100 text-red-700 rounded-lg flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          size: 20,\n          className: \"mr-2 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), error.includes('Errore nel caricamento') && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ml-auto bg-red-200 hover:bg-red-300 text-red-800 px-2 py-1 rounded text-sm\",\n          onClick: handleRetry,\n          children: \"Riprova\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"m-4 p-3 bg-green-100 text-green-700 rounded-lg flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Info, {\n          size: 20,\n          className: \"mr-2 flex-shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: successMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 flex flex-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/3 pr-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium text-gray-700 mb-2\",\n            children: \"Giorni della settimana\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: giorniSettimana.map((giorno, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-3 rounded-lg cursor-pointer ${giornoSelezionato === index ? 'bg-red-100 border-2 border-red-300' : 'bg-gray-50 hover:bg-gray-100'}`,\n              onClick: () => setGiornoSelezionato(index),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: giorno\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 21\n                }, this), configurazioni && configurazioni.length > 0 && configurazioni.find(c => c.giorno === index) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-xs px-2 py-1 rounded-full ${configurazioni.find(c => c.giorno === index).aperto ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`,\n                  children: configurazioni.find(c => c.giorno === index).aperto ? 'Aperto' : 'Chiuso'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this), configurazioni && configurazioni.length > 0 && !configurazioni.find(c => c.giorno === index) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-red-500\",\n                children: \"Non configurato\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mt-4 w-full bg-blue-500 text-white rounded-lg py-2 hover:bg-blue-600 transition-colors flex items-center justify-center\",\n            onClick: copiaConfigurazioneATutti,\n            disabled: isLoading,\n            children: [/*#__PURE__*/_jsxDEV(Copy, {\n              size: 18,\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this), \"Copia impostazioni per tutti i giorni\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-2/3 border-l pl-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-medium text-gray-700 mb-2\",\n            children: [\"Configurazione per \", giorniSettimana[giornoSelezionato]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-700 mb-3\",\n              children: \"Impostazioni generali\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: configurazione.aperto,\n                  onChange: e => setConfigurazione({\n                    ...configurazione,\n                    aperto: e.target.checked\n                  }),\n                  className: \"rounded text-blue-500 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: \"Giorno di apertura\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm text-gray-600 mb-1\",\n                  children: \"Intervallo tra slot (minuti)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: configurazione.intervalloSlot,\n                  onChange: e => setConfigurazione({\n                    ...configurazione,\n                    intervalloSlot: parseInt(e.target.value)\n                  }),\n                  className: \"w-full border border-gray-300 rounded-lg p-2\",\n                  disabled: !configurazione.aperto,\n                  children: intervalliSlotDisponibili.map(intervallo => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: intervallo.value,\n                    children: intervallo.label\n                  }, intervallo.value, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm text-gray-600 mb-1\",\n                  children: \"Capacit\\xE0 predefinita per slot\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: configurazione.capacitaSlot,\n                  onChange: e => setConfigurazione({\n                    ...configurazione,\n                    capacitaSlot: Math.min(50, Math.max(1, parseInt(e.target.value) || 1))\n                  }),\n                  min: \"1\",\n                  max: \"50\",\n                  className: \"w-full border border-gray-300 rounded-lg p-2\",\n                  disabled: !configurazione.aperto\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this), configurazione.aperto && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-700\",\n                  children: \"Turni di lavoro\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-green-100 text-green-700 p-1 rounded-full hover:bg-green-200 transition-colors\",\n                  onClick: aggiungiTurno,\n                  children: /*#__PURE__*/_jsxDEV(Plus, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this), configurazione.turni.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-4 text-gray-500\",\n                children: \"Nessun turno configurato. Aggiungi il primo turno.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 21\n              }, this) : configurazione.turni.map((turno, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 p-3 bg-white rounded-lg border border-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: [\"Turno \", index + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 transition-colors\",\n                    onClick: () => rimuoviTurno(index),\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      size: 18\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 468,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-gray-600 mb-1\",\n                      children: \"Apertura\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"relative\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"time\",\n                        value: turno.apertura,\n                        onChange: e => aggiornaTurno(index, 'apertura', e.target.value),\n                        className: \"w-full border border-gray-300 rounded-lg p-2 pl-8\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 476,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Clock, {\n                        className: \"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400\",\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 482,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-gray-600 mb-1\",\n                      children: \"Chiusura\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"relative\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"time\",\n                        value: turno.chiusura,\n                        onChange: e => aggiornaTurno(index, 'chiusura', e.target.value),\n                        className: \"w-full border border-gray-300 rounded-lg p-2 pl-8\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 489,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Clock, {\n                        className: \"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400\",\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 495,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center\",\n              onClick: salvaConfigurazione,\n              disabled: isLoading,\n              children: [/*#__PURE__*/_jsxDEV(Save, {\n                size: 18,\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 17\n              }, this), \"Salva impostazioni\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 300,\n    columnNumber: 5\n  }, this);\n};\n_s(ConfigurazioneOrari, \"Me3yPc3SLMOvaya29l33vGNaDvc=\");\n_c = ConfigurazioneOrari;\nexport default ConfigurazioneOrari;\nvar _c;\n$RefreshReg$(_c, \"ConfigurazioneOrari\");","map":{"version":3,"names":["React","useState","useEffect","X","Clock","Plus","Trash2","Copy","Info","AlertCircle","Save","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","ConfigurazioneOrari","onClose","_s","configurazioni","setConfigurazioni","giornoSelezionato","setGiornoSelezionato","configurazione","setConfigurazione","aperto","intervalloSlot","capacitaSlot","turni","isLoading","setIsLoading","error","setError","successMessage","setSuccessMessage","fetchConfigurazioni","length","configGiorno","find","c","giorno","response","get","timeout","validateStatus","status","data","localStorage","setItem","JSON","stringify","Error","err","console","localData","getItem","parsedData","parse","parseError","createDefaultConfigurations","configurazioniPredefinite","Array","fill","map","_","index","id","nomeGiorno","giorniSettimana","apertura","chiusura","salvaConfigurazione","put","apiError","warn","configurazioneSalvate","findIndex","push","nuoveConfigurazioni","setTimeout","aggiungiTurno","nuoviTurni","rimuoviTurno","splice","aggiornaTurno","campo","valore","copiaConfigurazioneATutti","window","confirm","configAttuale","i","intervalliSlotDisponibili","value","label","handleRetry","className","children","onClick","size","fileName","_jsxFileName","lineNumber","columnNumber","includes","disabled","type","checked","onChange","e","target","parseInt","intervallo","Math","min","max","turno","_c","$RefreshReg$"],"sources":["C:/Users/demis/Desktop/gest8-1/client/src/components/ordini/ConfigurazioneOrari.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { X, Clock, Plus, Trash2, Copy, Info, AlertCircle, Save } from 'lucide-react';\r\nimport axios from 'axios';\r\n\r\nconst ConfigurazioneOrari = ({ onClose }) => {\r\n  // Stato per memorizzare le configurazioni per ogni giorno\r\n  const [configurazioni, setConfigurazioni] = useState([]);\r\n  \r\n  // Stato per il giorno selezionato\r\n  const [giornoSelezionato, setGiornoSelezionato] = useState(0); // 0 = Lunedì\r\n  \r\n  // Stato per la configurazione corrente\r\n  const [configurazione, setConfigurazione] = useState({\r\n    aperto: true,\r\n    intervalloSlot: 10,\r\n    capacitaSlot: 5,\r\n    turni: []\r\n  });\r\n  \r\n  // Stato per il caricamento e gli errori\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  \r\n  // Effetto per caricare le configurazioni all'avvio\r\n  useEffect(() => {\r\n    fetchConfigurazioni();\r\n  }, []);\r\n  \r\n  // Effetto per aggiornare la configurazione corrente quando cambia il giorno selezionato\r\n  useEffect(() => {\r\n    if (configurazioni && configurazioni.length > 0) {\r\n      const configGiorno = configurazioni.find(c => c.giorno === giornoSelezionato);\r\n      \r\n      if (configGiorno) {\r\n        setConfigurazione({\r\n          aperto: configGiorno.aperto,\r\n          intervalloSlot: configGiorno.intervalloSlot || 10,\r\n          capacitaSlot: configGiorno.capacitaSlot || 5,\r\n          turni: configGiorno.turni || []\r\n        });\r\n      } else {\r\n        // Se non esiste una configurazione per questo giorno, imposta valori predefiniti\r\n        setConfigurazione({\r\n          aperto: true,\r\n          intervalloSlot: 10,\r\n          capacitaSlot: 5,\r\n          turni: []\r\n        });\r\n      }\r\n    }\r\n  }, [giornoSelezionato, configurazioni]);\r\n  \r\nconst fetchConfigurazioni = async () => {\r\n  setIsLoading(true);\r\n  setError(null);\r\n  \r\n  try {\r\n    // Prova a ottenere i dati dall'API\r\n    const response = await axios.get('/api/ordini/configurazione', { \r\n      timeout: 5000,\r\n      validateStatus: function (status) {\r\n        return status < 500;\r\n      }\r\n    });\r\n    \r\n    if (response.data && response.data.data) {\r\n      setConfigurazioni(response.data.data);\r\n      // Salva anche in localStorage per il futuro\r\n      localStorage.setItem('configurazioni-orari', JSON.stringify(response.data.data));\r\n    } else {\r\n      throw new Error('Dati non validi dalla risposta API');\r\n    }\r\n  } catch (err) {\r\n    console.error('Errore nel caricamento delle configurazioni:', err);\r\n    \r\n    // Prova a caricare dal localStorage\r\n    const localData = localStorage.getItem('configurazioni-orari');\r\n    \r\n    if (localData) {\r\n      try {\r\n        const parsedData = JSON.parse(localData);\r\n        setConfigurazioni(parsedData);\r\n        setError('Caricati dati locali (server non disponibile)');\r\n      } catch (parseError) {\r\n        console.error('Errore nel parsing dei dati locali:', parseError);\r\n        createDefaultConfigurations();\r\n      }\r\n    } else {\r\n      createDefaultConfigurations();\r\n    }\r\n  } finally {\r\n    setIsLoading(false);\r\n  }\r\n};\r\n\r\n// Funzione helper per creare configurazioni predefinite\r\nconst createDefaultConfigurations = () => {\r\n  const configurazioniPredefinite = Array(7).fill(0).map((_, index) => ({\r\n    id: index,\r\n    giorno: index,\r\n    nomeGiorno: giorniSettimana[index],\r\n    aperto: index === 1, // Solo Martedì aperto per default (come nell'immagine)\r\n    intervalloSlot: 10,\r\n    capacitaSlot: 5,\r\n    turni: index === 1 ? [\r\n      { apertura: '12:00', chiusura: '14:30' },\r\n      { apertura: '18:00', chiusura: '23:00' }\r\n    ] : []\r\n  }));\r\n  \r\n  setConfigurazioni(configurazioniPredefinite);\r\n  setError('Utilizzati dati predefiniti.');\r\n  \r\n  // Salva anche in localStorage per il futuro\r\n  localStorage.setItem('configurazioni-orari', JSON.stringify(configurazioniPredefinite));\r\n};  \r\n  \r\n const salvaConfigurazione = async () => {\r\n  setIsLoading(true);\r\n  setError(null);\r\n  setSuccessMessage(null);\r\n  \r\n  try {\r\n    // Tenta di chiamare l'API\r\n    try {\r\n      await axios.put(`/api/ordini/configurazione/${giornoSelezionato}`, configurazione);\r\n    } catch (apiError) {\r\n      console.warn(\"Errore nell'API, utilizzo localStorage come fallback\", apiError);\r\n    }\r\n    \r\n    // Aggiorna sempre il localStorage indipendentemente dal risultato dell'API\r\n    const configurazioneSalvate = JSON.parse(localStorage.getItem('configurazioni-orari') || '[]');\r\n    \r\n    // Trova l'indice della configurazione per questo giorno\r\n    const index = configurazioneSalvate.findIndex(c => c.giorno === giornoSelezionato);\r\n    \r\n    if (index >= 0) {\r\n      // Aggiorna la configurazione esistente\r\n      configurazioneSalvate[index] = {\r\n        ...configurazioneSalvate[index],\r\n        ...configurazione,\r\n        giorno: giornoSelezionato,\r\n        nomeGiorno: giorniSettimana[giornoSelezionato]\r\n      };\r\n    } else {\r\n      // Aggiungi una nuova configurazione\r\n      configurazioneSalvate.push({\r\n        ...configurazione,\r\n        giorno: giornoSelezionato,\r\n        nomeGiorno: giorniSettimana[giornoSelezionato]\r\n      });\r\n    }\r\n    \r\n    // Salva nel localStorage\r\n    localStorage.setItem('configurazioni-orari', JSON.stringify(configurazioneSalvate));\r\n    \r\n    // Aggiorna l'interfaccia\r\n    const nuoveConfigurazioni = [...configurazioneSalvate];\r\n    setConfigurazioni(nuoveConfigurazioni);\r\n    setSuccessMessage('Configurazione salvata con successo');\r\n    \r\n    // Nascondi il messaggio dopo 3 secondi\r\n    setTimeout(() => {\r\n      setSuccessMessage(null);\r\n    }, 3000);\r\n  } catch (err) {\r\n    console.error('Errore nel salvataggio della configurazione:', err);\r\n    setError('Errore nel salvataggio. Riprova più tardi.');\r\n  } finally {\r\n    setIsLoading(false);\r\n  }\r\n};\r\n  \r\n  // Funzione per aggiungere un nuovo turno\r\n  const aggiungiTurno = () => {\r\n    const nuoviTurni = [...configurazione.turni];\r\n    \r\n    // Aggiungi un nuovo turno con orari predefiniti\r\n    nuoviTurni.push({\r\n      apertura: '18:00',\r\n      chiusura: '23:00'\r\n    });\r\n    \r\n    setConfigurazione({\r\n      ...configurazione,\r\n      turni: nuoviTurni\r\n    });\r\n  };\r\n  \r\n  // Funzione per rimuovere un turno\r\n  const rimuoviTurno = (index) => {\r\n    const nuoviTurni = [...configurazione.turni];\r\n    nuoviTurni.splice(index, 1);\r\n    \r\n    setConfigurazione({\r\n      ...configurazione,\r\n      turni: nuoviTurni\r\n    });\r\n  };\r\n  \r\n  // Funzione per aggiornare un turno\r\n  const aggiornaTurno = (index, campo, valore) => {\r\n    const nuoviTurni = [...configurazione.turni];\r\n    nuoviTurni[index] = {\r\n      ...nuoviTurni[index],\r\n      [campo]: valore\r\n    };\r\n    \r\n    setConfigurazione({\r\n      ...configurazione,\r\n      turni: nuoviTurni\r\n    });\r\n  };\r\n  \r\n  // Funzione per copiare la configurazione a tutti i giorni\r\n  const copiaConfigurazioneATutti = async () => {\r\n    if (!window.confirm('Sei sicuro di voler copiare questa configurazione a tutti i giorni della settimana?')) {\r\n      return;\r\n    }\r\n    \r\n    setIsLoading(true);\r\n    setError(null);\r\n    setSuccessMessage(null);\r\n    \r\n    try {\r\n      // In una implementazione reale:\r\n      // await axios.post(`/api/ordini/configurazione/${giornoSelezionato}/copia-a-tutti`);\r\n      \r\n      // Simulazione di risposta di successo\r\n      setTimeout(() => {\r\n        // Implementa la copia localmente\r\n        const configAttuale = configurazione;\r\n        const nuoveConfigurazioni = [...configurazioni];\r\n        \r\n        for (let i = 0; i < 7; i++) {\r\n          if (i !== giornoSelezionato) {\r\n            const index = nuoveConfigurazioni.findIndex(c => c.giorno === i);\r\n            \r\n            if (index !== -1) {\r\n              nuoveConfigurazioni[index] = {\r\n                ...nuoveConfigurazioni[index],\r\n                aperto: configAttuale.aperto,\r\n                intervalloSlot: configAttuale.intervalloSlot,\r\n                capacitaSlot: configAttuale.capacitaSlot,\r\n                turni: JSON.parse(JSON.stringify(configAttuale.turni)) // Deep clone\r\n              };\r\n            } else {\r\n              nuoveConfigurazioni.push({\r\n                id: nuoveConfigurazioni.length,\r\n                giorno: i,\r\n                nomeGiorno: giorniSettimana[i],\r\n                aperto: configAttuale.aperto,\r\n                intervalloSlot: configAttuale.intervalloSlot,\r\n                capacitaSlot: configAttuale.capacitaSlot,\r\n                turni: JSON.parse(JSON.stringify(configAttuale.turni)) // Deep clone\r\n              });\r\n            }\r\n          }\r\n        }\r\n        \r\n        setConfigurazioni(nuoveConfigurazioni);\r\n        setSuccessMessage('Configurazione copiata a tutti i giorni con successo');\r\n        \r\n        // Nascondi il messaggio dopo 3 secondi\r\n        setTimeout(() => {\r\n          setSuccessMessage(null);\r\n        }, 3000);\r\n        \r\n        setIsLoading(false);\r\n      }, 500);\r\n    } catch (err) {\r\n      console.error('Errore nella copia della configurazione:', err);\r\n      setError('Errore nella copia. Riprova più tardi.');\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Array dei giorni della settimana\r\n  const giorniSettimana = [\r\n    'Lunedì', 'Martedì', 'Mercoledì', 'Giovedì', 'Venerdì', 'Sabato', 'Domenica'\r\n  ];\r\n  \r\n  // Array degli intervalli di slot disponibili\r\n  const intervalliSlotDisponibili = [\r\n    { value: 5, label: '5 minuti' },\r\n    { value: 10, label: '10 minuti' },\r\n    { value: 15, label: '15 minuti' },\r\n    { value: 20, label: '20 minuti' },\r\n    { value: 30, label: '30 minuti' },\r\n    { value: 60, label: '1 ora' }\r\n  ];\r\n  \r\n  // Funzione di riprova\r\n  const handleRetry = () => {\r\n    fetchConfigurazioni();\r\n  };\r\n  \r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"flex items-center justify-between p-4 border-b\">\r\n          <div className=\"flex items-center\">\r\n            <button \r\n              className=\"mr-3 p-2 rounded-lg hover:bg-gray-100 transition-colors\"\r\n              onClick={onClose}\r\n            >\r\n              <X size={20} className=\"text-gray-700\" />\r\n            </button>\r\n            <h2 className=\"text-xl font-semibold\">Impostazioni Orari e Turni</h2>\r\n          </div>\r\n        </div>\r\n        \r\n        {isLoading && (\r\n          <div className=\"flex justify-center items-center h-20\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500\"></div>\r\n          </div>\r\n        )}\r\n        \r\n        {error && (\r\n          <div className=\"m-4 p-3 bg-red-100 text-red-700 rounded-lg flex items-center\">\r\n            <AlertCircle size={20} className=\"mr-2 flex-shrink-0\" />\r\n            <span>{error}</span>\r\n            {error.includes('Errore nel caricamento') && (\r\n              <button \r\n                className=\"ml-auto bg-red-200 hover:bg-red-300 text-red-800 px-2 py-1 rounded text-sm\"\r\n                onClick={handleRetry}\r\n              >\r\n                Riprova\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n        \r\n        {successMessage && (\r\n          <div className=\"m-4 p-3 bg-green-100 text-green-700 rounded-lg flex items-center\">\r\n            <Info size={20} className=\"mr-2 flex-shrink-0\" />\r\n            <span>{successMessage}</span>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"p-4 flex flex-row\">\r\n          {/* Colonna sinistra: selezione giorno */}\r\n          <div className=\"w-1/3 pr-4\">\r\n            <h3 className=\"font-medium text-gray-700 mb-2\">Giorni della settimana</h3>\r\n            \r\n            <div className=\"space-y-2\">\r\n              {giorniSettimana.map((giorno, index) => (\r\n                <div \r\n                  key={index}\r\n                  className={`p-3 rounded-lg cursor-pointer ${\r\n                    giornoSelezionato === index ? 'bg-red-100 border-2 border-red-300' : 'bg-gray-50 hover:bg-gray-100'\r\n                  }`}\r\n                  onClick={() => setGiornoSelezionato(index)}\r\n                >\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"font-medium\">{giorno}</span>\r\n                    \r\n                    {configurazioni && configurazioni.length > 0 && configurazioni.find(c => c.giorno === index) && (\r\n                      <span className={`text-xs px-2 py-1 rounded-full ${\r\n                        configurazioni.find(c => c.giorno === index).aperto ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'\r\n                      }`}>\r\n                        {configurazioni.find(c => c.giorno === index).aperto ? 'Aperto' : 'Chiuso'}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  {/* Mostra \"Non configurato\" se non ci sono configurazioni per questo giorno */}\r\n                  {configurazioni && configurazioni.length > 0 && !configurazioni.find(c => c.giorno === index) && (\r\n                    <span className=\"text-xs text-red-500\">Non configurato</span>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <button\r\n              className=\"mt-4 w-full bg-blue-500 text-white rounded-lg py-2 hover:bg-blue-600 transition-colors flex items-center justify-center\"\r\n              onClick={copiaConfigurazioneATutti}\r\n              disabled={isLoading}\r\n            >\r\n              <Copy size={18} className=\"mr-2\" />\r\n              Copia impostazioni per tutti i giorni\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Colonna destra: configurazione del giorno selezionato */}\r\n          <div className=\"w-2/3 border-l pl-4\">\r\n            <h3 className=\"font-medium text-gray-700 mb-2\">\r\n              Configurazione per {giorniSettimana[giornoSelezionato]}\r\n            </h3>\r\n            \r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-medium text-gray-700 mb-3\">Impostazioni generali</h4>\r\n              \r\n              <div className=\"mb-4\">\r\n                <label className=\"flex items-center\">\r\n                  <input \r\n                    type=\"checkbox\"\r\n                    checked={configurazione.aperto}\r\n                    onChange={(e) => setConfigurazione({...configurazione, aperto: e.target.checked})}\r\n                    className=\"rounded text-blue-500 mr-2\"\r\n                  />\r\n                  <span className=\"font-medium text-gray-700\">Giorno di apertura</span>\r\n                </label>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-600 mb-1\">Intervallo tra slot (minuti)</label>\r\n                  <select \r\n                    value={configurazione.intervalloSlot}\r\n                    onChange={(e) => setConfigurazione({...configurazione, intervalloSlot: parseInt(e.target.value)})}\r\n                    className=\"w-full border border-gray-300 rounded-lg p-2\"\r\n                    disabled={!configurazione.aperto}\r\n                  >\r\n                    {intervalliSlotDisponibili.map(intervallo => (\r\n                      <option key={intervallo.value} value={intervallo.value}>\r\n                        {intervallo.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm text-gray-600 mb-1\">Capacità predefinita per slot</label>\r\n                  <input \r\n                    type=\"number\"\r\n                    value={configurazione.capacitaSlot}\r\n                    onChange={(e) => setConfigurazione({\r\n                      ...configurazione, \r\n                      capacitaSlot: Math.min(50, Math.max(1, parseInt(e.target.value) || 1))\r\n                    })}\r\n                    min=\"1\"\r\n                    max=\"50\"\r\n                    className=\"w-full border border-gray-300 rounded-lg p-2\"\r\n                    disabled={!configurazione.aperto}\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              {configurazione.aperto && (\r\n                <>\r\n                  <div className=\"flex justify-between items-center mb-3\">\r\n                    <h4 className=\"font-medium text-gray-700\">Turni di lavoro</h4>\r\n                    \r\n                    <button \r\n                      className=\"bg-green-100 text-green-700 p-1 rounded-full hover:bg-green-200 transition-colors\"\r\n                      onClick={aggiungiTurno}\r\n                    >\r\n                      <Plus size={20} />\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  {configurazione.turni.length === 0 ? (\r\n                    <div className=\"text-center py-4 text-gray-500\">\r\n                      Nessun turno configurato. Aggiungi il primo turno.\r\n                    </div>\r\n                  ) : (\r\n                    configurazione.turni.map((turno, index) => (\r\n                      <div key={index} className=\"mb-4 p-3 bg-white rounded-lg border border-gray-200\">\r\n                        <div className=\"flex justify-between items-center mb-2\">\r\n                          <span className=\"font-medium\">Turno {index + 1}</span>\r\n                          \r\n                          <button \r\n                            className=\"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 transition-colors\"\r\n                            onClick={() => rimuoviTurno(index)}\r\n                          >\r\n                            <Trash2 size={18} />\r\n                          </button>\r\n                        </div>\r\n                        \r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                          <div>\r\n                            <label className=\"block text-sm text-gray-600 mb-1\">Apertura</label>\r\n                            <div className=\"relative\">\r\n                              <input \r\n                                type=\"time\"\r\n                                value={turno.apertura}\r\n                                onChange={(e) => aggiornaTurno(index, 'apertura', e.target.value)}\r\n                                className=\"w-full border border-gray-300 rounded-lg p-2 pl-8\"\r\n                              />\r\n                              <Clock className=\"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          <div>\r\n                            <label className=\"block text-sm text-gray-600 mb-1\">Chiusura</label>\r\n                            <div className=\"relative\">\r\n                              <input \r\n                                type=\"time\"\r\n                                value={turno.chiusura}\r\n                                onChange={(e) => aggiornaTurno(index, 'chiusura', e.target.value)}\r\n                                className=\"w-full border border-gray-300 rounded-lg p-2 pl-8\"\r\n                              />\r\n                              <Clock className=\"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"mt-4 flex justify-end\">\r\n              <button\r\n                className=\"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center\"\r\n                onClick={salvaConfigurazione}\r\n                disabled={isLoading}\r\n              >\r\n                <Save size={18} className=\"mr-2\" />\r\n                Salva impostazioni\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfigurazioneOrari;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}